@use 'sass:map';
@use 'sass:list';

@use 'functions' as f;
@use './variables/colors' as c;
@use './variables/spacing' as s;
@use './variables/radius' as r;

// 1) Brand role map (derived from public single variables)
$brand-colors: (
  "primary": c.$color-primary,
  "accent": c.$color-accent,
  "highlight": c.$color-highlight,
  "muted": c.$color-muted,
  "body-bg": c.$color-body-bg,
  "body-text": c.$color-body-text,
  "white": #ffffff
);

// 2) Full colors map (brand colors + generated scales)
$colors: $brand-colors;

@each $name, $color in $brand-colors {
  // only generate scales for certain roles
  @if list.index(("primary", "accent", "highlight"), $name) != null {
    $scale: f.color-scale($color);

    @each $step, $value in $scale {
      $colors: map.merge($colors, ("#{$name}-#{$step}": $value));
    }
  }
}

// 3) Spacing + radius maps (derived)
$spacers: f.scale-to-map(s.$spacing-multipliers, s.$default-spacer);
$radiuses: f.scale-to-map(r.$radius-multipliers, r.$radius-base);